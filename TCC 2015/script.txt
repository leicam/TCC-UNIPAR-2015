Drop Table "CIDADE";
Drop Table "CONDICAO_PAGAMENTO";
Drop Table "SERVICO";
Drop Table "MATERIAL";
Drop Table "SERVICO_ORDSERV";
Drop Table "ITEM_ORDSERV";
Drop Table "ITEM_COMPRA";
Drop Table "CONTAS_RECEBER";
Drop Table "CONTAS_PAGAR";
Drop Table "PEDIDO_COMPRA";
Drop Table "ORDEM_SERVICO";
Drop Table "FORNECEDOR";
Drop Table "CLIENTE";
Drop Table "USUARIO";
Drop Table "AMORTIZACAO";

CREATE GENERATOR GEN_AMORTIZACAO_ID;
SET GENERATOR GEN_AMORTIZACAO_ID TO 0;

CREATE GENERATOR GEN_CIDADE_ID;
SET GENERATOR GEN_CIDADE_ID TO 0;

CREATE GENERATOR GEN_CLIENTE_ID;
SET GENERATOR GEN_CLIENTE_ID TO 0;

CREATE GENERATOR GEN_COND_PGTO_ID;
SET GENERATOR GEN_COND_PGTO_ID TO 0;

CREATE GENERATOR GEN_CONTAS_PAGAR_ID;
SET GENERATOR GEN_CONTAS_PAGAR_ID TO 0;

CREATE GENERATOR GEN_CONTAS_RECEBER_ID;
SET GENERATOR GEN_CONTAS_RECEBER_ID TO 0;

CREATE GENERATOR GEN_FORNECEDOR_ID;
SET GENERATOR GEN_FORNECEDOR_ID TO 0;

CREATE GENERATOR GEN_MATERIAL_ID;
SET GENERATOR GEN_MATERIAL_ID TO 0;

CREATE GENERATOR GEN_ORDEM_SERVICO_ID;
SET GENERATOR GEN_ORDEM_SERVICO_ID TO 0;

CREATE GENERATOR GEN_PEDCOMPRA_ID;
SET GENERATOR GEN_PEDCOMPRA_ID TO 0;

CREATE GENERATOR GEN_SERVICO_ID;
SET GENERATOR GEN_SERVICO_ID TO 0;

CREATE GENERATOR GEN_USUARIO_ID;
SET GENERATOR GEN_USUARIO_ID TO 0;

CREATE GENERATOR SEQ_CIDADE;
SET GENERATOR SEQ_CIDADE TO 0;

CREATE TABLE AMORTIZACAO (
    CD_AMORTIZACAO  INTEGER NOT NULL,
    CD_CONTA        INTEGER NOT NULL,
    VL_RECEBIDO     NUMERIC(5,2),
    DT_RECEBIDO     DATE,
    TP_DOCUMENTO    VARCHAR(50)
);

CREATE TABLE CIDADE (
    CD_CIDADE  INTEGER NOT NULL,
    DS_CIDADE  VARCHAR(50),
    UF_CIDADE  CHAR(2)
);

CREATE TABLE CLIENTE (
    CD_CLIENTE     INTEGER NOT NULL,
    DT_CADASTRO    DATE,
    DS_NOME        VARCHAR(50),
    DS_ENDERECO    VARCHAR(50),
    DS_BAIRRO      VARCHAR(50),
    DS_EMAIL       VARCHAR(50),
    DS_OBSERVACAO  VARCHAR(50),
    NR_CPF         VARCHAR(20),
    NR_RG          VARCHAR(20),
    NR_TELEFONE    VARCHAR(20),
    NR_CEP         VARCHAR(20),
    IN_STATUS      VARCHAR(20),
    CD_CIDADE      INTEGER NOT NULL,
    DT_NASCIMENTO  DATE
);

CREATE TABLE CONDICAO_PAGAMENTO (
    CD_CONDPGTO  INTEGER NOT NULL,
    DS_CONDPGTO  VARCHAR(50),
    NR_PARCELAS  INTEGER
);

CREATE TABLE CONTAS_PAGAR (
    CD_CONTA       INTEGER NOT NULL,
    CD_PEDIDO      INTEGER NOT NULL,
    DT_CONTA       DATE,
    DT_VENCIMENTO  DATE,
    DT_PAGA        DATE,
    IN_STATUS      CHAR(20),
    NR_PARCELA     INTEGER,
    VL_PARCELA     NUMERIC(5,2),
    VL_PAGO        NUMERIC(5,2)
);

CREATE TABLE CONTAS_RECEBER (
    CD_CONTA          INTEGER NOT NULL,
    CD_ORDSERV        INTEGER NOT NULL,
    DT_CONTA          DATE,
    IN_STATUS         CHAR(20),
    VL_TOTAL          NUMERIC(5,2),
    DT_FINALIZADA     DATE,
    VL_TOTALRECEBIDO  NUMERIC(5,2)
);

CREATE TABLE FORNECEDOR (
    CD_FORNECEDOR   INTEGER NOT NULL,
    DS_FANTASIA     VARCHAR(50),
    DS_ENDERECO     VARCHAR(50),
    DS_BAIRRO       VARCHAR(50),
    DS_EMAIL        VARCHAR(50),
    DS_OBSERVACAO   VARCHAR(150),
    NR_CNPJ         VARCHAR(20),
    NR_TELEFONE     VARCHAR(20),
    NR_CEP          VARCHAR(20),
    IN_STATUS       VARCHAR(20),
    CD_CIDADE       INTEGER NOT NULL,
    NR_IS           CHAR(20),
    DT_CADASTRO     DATE,
    DS_RAZAOSOCIAL  VARCHAR(50)
);

CREATE TABLE ITEM_COMPRA (
    CD_PEDIDO    INTEGER NOT NULL,
    CD_MATERIAL  INTEGER NOT NULL,
    QT_ITEM      NUMERIC(5,2),
    VL_TOTAL     NUMERIC(5,2),
    QT_RECEBIDA  NUMERIC(5,2)
);

CREATE TABLE ITEM_ORDSERV (
    CD_ORDSERV   INTEGER NOT NULL,
    CD_MATERIAL  INTEGER NOT NULL,
    QT_ITEM      NUMERIC(5,2),
    VL_TOTAL     NUMERIC(5,2),
    VL_ITEM      NUMERIC(5,2)
);

CREATE TABLE MATERIAL (
    CD_MATERIAL  INTEGER NOT NULL,
    DS_MATERIAL  VARCHAR(50),
    UN_MATERIAL  VARCHAR(10),
    VL_MATERIAL  NUMERIC(5,2)
);

CREATE TABLE ORDEM_SERVICO (
    CD_ORDSERV    INTEGER NOT NULL,
    DT_CADASTRO   DATE,
    IN_STATUS     CHAR(20),
    DT_INICIO     DATE,
    DT_PREVINI    DATE,
    DT_PREVFIM    DATE,
    VL_BRUTO      NUMERIC(5,2),
    VL_DESCONTO   NUMERIC(5,2),
    VL_LIQUIDO    NUMERIC(5,2),
    CD_CLIENTE    INTEGER NOT NULL,
    IN_MTINCLUSO  CHAR(10),
    DT_FIM        DATE
);

CREATE TABLE PEDIDO_COMPRA (
    CD_PEDIDO      INTEGER NOT NULL,
    DT_PEDIDO      DATE,
    IN_STATUS      CHAR(20),
    VL_BRUTO       NUMERIC(5,2),
    VL_DESCONTO    NUMERIC(5,2),
    VL_LIQUIDO     NUMERIC(5,2),
    CD_CONDPGTO    INTEGER NOT NULL,
    CD_FORNECEDOR  INTEGER NOT NULL
);

CREATE TABLE SERVICO (
    CD_SERVICO  INTEGER NOT NULL,
    DS_SERVICO  VARCHAR(50),
    UN_SERVICO  VARCHAR(10),
    VL_SERVICO  NUMERIC(5,2)
);

CREATE TABLE SERVICO_ORDSERV (
    CD_ORDSERV  INTEGER NOT NULL,
    CD_SERVICO  INTEGER NOT NULL,
    MT_SERVICO  NUMERIC(5,2),
    VL_TOTAL    NUMERIC(5,2)
);

CREATE TABLE USUARIO (
    CD_USUARIO  INTEGER NOT NULL,
    US_LOGIN    VARCHAR(50),
    US_SENHA    VARCHAR(50),
    TP_USUARIO  VARCHAR(50)
);


/******************************************************************************/
/*                                Primary keys                                */
/******************************************************************************/

ALTER TABLE AMORTIZACAO ADD PRIMARY KEY (CD_AMORTIZACAO, CD_CONTA);
ALTER TABLE CIDADE ADD PRIMARY KEY (CD_CIDADE);
ALTER TABLE CLIENTE ADD PRIMARY KEY (CD_CLIENTE);
ALTER TABLE CONDICAO_PAGAMENTO ADD PRIMARY KEY (CD_CONDPGTO);
ALTER TABLE CONTAS_PAGAR ADD PRIMARY KEY (CD_CONTA);
ALTER TABLE CONTAS_RECEBER ADD PRIMARY KEY (CD_CONTA);
ALTER TABLE FORNECEDOR ADD PRIMARY KEY (CD_FORNECEDOR);
ALTER TABLE ITEM_COMPRA ADD PRIMARY KEY (CD_PEDIDO, CD_MATERIAL);
ALTER TABLE ITEM_ORDSERV ADD PRIMARY KEY (CD_ORDSERV, CD_MATERIAL);
ALTER TABLE MATERIAL ADD PRIMARY KEY (CD_MATERIAL);
ALTER TABLE ORDEM_SERVICO ADD PRIMARY KEY (CD_ORDSERV);
ALTER TABLE PEDIDO_COMPRA ADD PRIMARY KEY (CD_PEDIDO);
ALTER TABLE SERVICO ADD PRIMARY KEY (CD_SERVICO);
ALTER TABLE SERVICO_ORDSERV ADD PRIMARY KEY (CD_ORDSERV, CD_SERVICO);
ALTER TABLE USUARIO ADD PRIMARY KEY (CD_USUARIO);


